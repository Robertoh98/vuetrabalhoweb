{"remainingRequest":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/babel-loader/lib/index.js!/Users/robertobem/projetos/vuetrabalhoweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/robertobem/projetos/vuetrabalhoweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robertobem/projetos/vuetrabalhoweb/src/components/TableAlugar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/robertobem/projetos/vuetrabalhoweb/src/components/TableAlugar.vue","mtime":1543880274508},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Alugar from '../services/alugar';\nvar date = new Date();\nvar dd = date.getDate();\nvar de = date.getDate() + 7;\nvar mm = date.getMonth() + 1;\n\nif (dd < 10) {\n  dd = '0' + dd;\n}\n\nif (mm < 10) {\n  mm = '0' + mm;\n}\n\nvar today = date.getFullYear() + '-' + mm + '-' + dd;\nvar week = date.getFullYear() + '-' + mm + '-' + de;\nexport default {\n  data: function data() {\n    return {\n      alugar: {\n        cliente: {\n          codigo: ''\n        },\n        filme: {\n          codigo: ''\n        },\n        dtEmprestimo: today,\n        dtDevolucao: week\n      },\n      alugueis: []\n    };\n  },\n  mounted: function mounted() {\n    this.listar();\n  },\n  methods: {\n    listar: function listar() {\n      var _this = this;\n\n      Alugar.listar().then(function (response) {\n        _this.alugueis = response.data;\n      });\n    },\n    salvar: function salvar() {\n      if (!this.alugar.id) {\n        Alugar.salvar(this.alugar).then(function (response) {\n          alert(\"Aluguel \" + response.data.titulo + \" salvo com sucesso!!\");\n        });\n      } else {\n        Alugar.atualizar(this.alugar).then(function (response) {\n          alert(\"Filme \" + response.data.titulo + \" atualizado com sucesso!!\");\n        });\n      }\n\n      this.alugar = {};\n      this.listar();\n    }\n  },\n  filter: {\n    dateAjuste: function dateAjuste(data) {\n      var date = new Date(data);\n      return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear();\n    }\n  }\n};",{"version":3,"sources":["TableAlugar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,MAAA,MAAA,oBAAA;AAEA,IAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,IAAA,EAAA,GAAA,IAAA,CAAA,OAAA,EAAA;AACA,IAAA,EAAA,GAAA,IAAA,CAAA,OAAA,KAAA,CAAA;AACA,IAAA,EAAA,GAAA,IAAA,CAAA,QAAA,KAAA,CAAA;;AAEA,IAAA,EAAA,GAAA,EAAA,EAAA;AACA,EAAA,EAAA,GAAA,MAAA,EAAA;AACA;;AACA,IAAA,EAAA,GAAA,EAAA,EAAA;AACA,EAAA,EAAA,GAAA,MAAA,EAAA;AACA;;AAEA,IAAA,KAAA,GAAA,IAAA,CAAA,WAAA,KAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA;AACA,IAAA,IAAA,GAAA,IAAA,CAAA,WAAA,KAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA;AAGA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA;AADA,SADA;AAIA,QAAA,KAAA,EAAA;AACA,UAAA,MAAA,EAAA;AADA,SAJA;AAOA,QAAA,YAAA,EAAA,KAPA;AAQA,QAAA,WAAA,EAAA;AARA,OADA;AAWA,MAAA,QAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,MAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,MANA,oBAMA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,EAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,aAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,sBAAA,CAAA;AACA,SAFA;AAGA,OAJA,MAIA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,KAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,WAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,2BAAA,CAAA;AACA,SAFA;AAGA;;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,MAAA;AACA;AAlBA,GAnBA;AAuCA,EAAA,MAAA,EAAA;AACA,IAAA,UAAA,EAAA,oBAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA;AACA,aAAA,IAAA,CAAA,OAAA,KAAA,GAAA,IAAA,IAAA,CAAA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,IAAA,CAAA,WAAA,EAAA;AACA;AAJA;AAvCA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div>\n            <h1><center>Filmes Alugados</center></h1>\n            <table class=\"table table-hover\">\n                <thead>\n                <tr>\n                    <td>Cód. Usuário</td>\n                    <td>Cód. Filme</td>\n                    <td>Data Locação</td>\n                    <td>Data Fim</td>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for=\"alugar of alugueis\" :key=\"alugar.codigo\">\n                    <td> {{ alugar.cliente.nome }} </td>\n                    <td>{{ alugar.filme.titulo }}</td>\n                    <td>{{ alugar.dtEmprestimo | dateAjuste }}</td>\n                    <td>{{ alugar.dtDevolucao | dateAjuste }}</td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <center><form @submit.prevent=\"salvar\" class=\"form-inline\">\n            <div class=\"form-group\">\n                <input type=\"text\" v-model=\"alugar.cliente.codigo\" placeholder=\"Código usuário\" class=\"form-control margin\">\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" v-model=\"alugar.filme.codigo\" placeholder=\"Código Filme\" class=\"form-control margin\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Enviar</button>\n        </form></center>\n    </div>\n</template>\n\n<script>\n    import Alugar from '../services/alugar'\n\n    var date = new Date();\n    var dd = date.getDate();\n    var de = date.getDate()+7;\n    var mm = date.getMonth() + 1;\n\n    if (dd < 10) {\n        dd = '0' + dd;\n    }\n    if (mm < 10) {\n        mm = '0' + mm;\n    }\n\n    var today = date.getFullYear() + '-' + mm + '-' + dd;\n    var week = date.getFullYear() + '-' + mm + '-' + de;\n\n\n    export default {\n        data(){\n            return {\n                alugar:{\n                    cliente:{\n                        codigo:''\n                    },\n                    filme:{\n                        codigo: ''\n                    },\n                    dtEmprestimo:today,\n                    dtDevolucao:week\n                },\n                alugueis:[]\n            }\n        },\n        mounted(){\n            this.listar()\n        },\n        methods:{\n            listar(){\n                Alugar.listar().then(response => {\n                    this.alugueis = response.data\n                })\n            },\n            salvar() {\n                if (!this.alugar.id) {\n                    Alugar.salvar(this.alugar).then(response => {\n                        alert(\"Aluguel \" + response.data.titulo + \" salvo com sucesso!!\")\n                    })\n                } else {\n                    Alugar.atualizar(this.alugar).then(response => {\n                        alert(\"Filme \" + response.data.titulo + \" atualizado com sucesso!!\")\n                    })\n                }\n                this.alugar = {}\n                this.listar();\n            }\n        },\n        filter:{\n            dateAjuste:function (data) {\n                var date = new Date(data)\n                return date.getDate() + '/' + (date.getMonth() + 1) +'/'+date.getFullYear()\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .margin{\n        margin-right: 2px;\n        margin-left: 2px;\n    }\n</style>"],"sourceRoot":"src/components"}]}