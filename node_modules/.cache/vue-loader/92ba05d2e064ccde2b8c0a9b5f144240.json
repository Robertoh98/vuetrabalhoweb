{"remainingRequest":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/robertobem/projetos/vuetrabalhoweb/src/components/TableAlugar.vue?vue&type=style&index=0&id=e7e3fb48&scoped=true&lang=css&","dependencies":[{"path":"/Users/robertobem/projetos/vuetrabalhoweb/src/components/TableAlugar.vue","mtime":1543880274508},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robertobem/projetos/vuetrabalhoweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.margin{\n    margin-right: 2px;\n    margin-left: 2px;\n}\n",{"version":3,"sources":["TableAlugar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA","file":"TableAlugar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container\">\n        <div>\n            <h1><center>Filmes Alugados</center></h1>\n            <table class=\"table table-hover\">\n                <thead>\n                <tr>\n                    <td>Cód. Usuário</td>\n                    <td>Cód. Filme</td>\n                    <td>Data Locação</td>\n                    <td>Data Fim</td>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for=\"alugar of alugueis\" :key=\"alugar.codigo\">\n                    <td> {{ alugar.cliente.nome }} </td>\n                    <td>{{ alugar.filme.titulo }}</td>\n                    <td>{{ alugar.dtEmprestimo | dateAjuste }}</td>\n                    <td>{{ alugar.dtDevolucao | dateAjuste }}</td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <center><form @submit.prevent=\"salvar\" class=\"form-inline\">\n            <div class=\"form-group\">\n                <input type=\"text\" v-model=\"alugar.cliente.codigo\" placeholder=\"Código usuário\" class=\"form-control margin\">\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" v-model=\"alugar.filme.codigo\" placeholder=\"Código Filme\" class=\"form-control margin\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Enviar</button>\n        </form></center>\n    </div>\n</template>\n\n<script>\n    import Alugar from '../services/alugar'\n\n    var date = new Date();\n    var dd = date.getDate();\n    var de = date.getDate()+7;\n    var mm = date.getMonth() + 1;\n\n    if (dd < 10) {\n        dd = '0' + dd;\n    }\n    if (mm < 10) {\n        mm = '0' + mm;\n    }\n\n    var today = date.getFullYear() + '-' + mm + '-' + dd;\n    var week = date.getFullYear() + '-' + mm + '-' + de;\n\n\n    export default {\n        data(){\n            return {\n                alugar:{\n                    cliente:{\n                        codigo:''\n                    },\n                    filme:{\n                        codigo: ''\n                    },\n                    dtEmprestimo:today,\n                    dtDevolucao:week\n                },\n                alugueis:[]\n            }\n        },\n        mounted(){\n            this.listar()\n        },\n        methods:{\n            listar(){\n                Alugar.listar().then(response => {\n                    this.alugueis = response.data\n                })\n            },\n            salvar() {\n                if (!this.alugar.id) {\n                    Alugar.salvar(this.alugar).then(response => {\n                        alert(\"Aluguel \" + response.data.titulo + \" salvo com sucesso!!\")\n                    })\n                } else {\n                    Alugar.atualizar(this.alugar).then(response => {\n                        alert(\"Filme \" + response.data.titulo + \" atualizado com sucesso!!\")\n                    })\n                }\n                this.alugar = {}\n                this.listar();\n            }\n        },\n        filter:{\n            dateAjuste:function (data) {\n                var date = new Date(data)\n                return date.getDate() + '/' + (date.getMonth() + 1) +'/'+date.getFullYear()\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .margin{\n        margin-right: 2px;\n        margin-left: 2px;\n    }\n</style>"]}]}